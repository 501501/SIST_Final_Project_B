<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.sist.b.alarm.AlarmRepository">
	<insert id="setInsert" parameterType="AlarmVO" useGeneratedKeys="true" keyProperty="alarmNum">
		insert into alarm (alarmNum, alarmType, toUserNum, fromUserNum, targetPostNum, readCheck, alarmDate)
		values (#{alarmNum}, #{alarmType}, #{toUserNum}, #{fromUserNum}, #{targetPostNum}, 0, now())
	</insert>
	
	<select id="getList" parameterType="AlarmVO" resultType="AlarmVO">
		select * from alarm where toUserNum = #{toUserNum}
	</select>
	
	<update id="setUpdate" parameterType="AlarmVO">
		update alarm set readCk = 1 where alarmNum = #{alarmNum}
	</update>
	
	<delete id="setDelete" parameterType="AlarmVO">
		delete from alarm where alarmNum = #{alarmNum}
	</delete>
</mapper>